<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Trhoncal Homes | Catálogo de Desarrollos – Guadalajara</title>
  <meta name="description" content="Catálogo de desarrollos en la ZMG: Fiori, Vitad, Vicenza, Tossa, Vistas del Pedregal, Solum, Zenith Norte, Creta, Lavantia, Mirador del Bosque. Acompañamiento con Transparencia, Honestidad y Calidad." />

  <!-- Open Graph / Twitter -->
  <meta property="og:title" content="Trhoncal Homes | Catálogo de Desarrollos – Guadalajara">
  <meta property="og:description" content="Últimas unidades sin enganche. Atención por WhatsApp. Infonavit · Fovissste · Bancario.">
  <meta property="og:image" content="https://3dhomes.com.mx/assets/og-catalogo.jpg">
  <meta property="og:type" content="website">
  <meta name="twitter:card" content="summary_large_image">

  <!-- PWA / Icons (si ya los tienes, se mantienen) -->
  <link rel="icon" href="/favicon.svg" type="image/svg+xml">
  <link rel="apple-touch-icon" href="/apple-touch-icon.png">
  <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#C9A227">
  <link rel="manifest" href="/manifest.webmanifest">
  <meta name="theme-color" content="#0f172a">

  <style>
    :root{--gold:#C9A227;--dark:#0f172a;--muted:#475569;--bg:#ffffff;--light:#f8fafc;--wa:#25D366;--border:#e2e8f0}
    *{box-sizing:border-box}
    body{margin:0;font-family:ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Noto Sans,sans-serif;background:var(--bg);color:var(--dark)}
    a{color:inherit;text-decoration:none}
    img{max-width:100%;display:block}
    .container{max-width:1100px;margin:0 auto;padding:0 20px}

    .btn{display:inline-block;padding:10px 16px;border-radius:999px;border:1px solid var(--gold);font-weight:600}
    .btn.primary{background:var(--gold);color:#fff;border-color:var(--gold)}
    .btn.ghost{background:transparent;color:var(--gold)}
    .btn.whatsapp{background:var(--wa);border-color:var(--wa);color:#fff}

    header{position:sticky;top:0;background:rgba(255,255,255,.95);backdrop-filter:saturate(180%) blur(8px);border-bottom:1px solid var(--border);z-index:50}
    header .wrap{display:flex;align-items:center;justify-content:space-between;height:72px}
    nav a{margin-left:18px;color:var(--muted)}
    .logo-img{height:50px}

    .hero{padding:44px 0 28px;background:radial-gradient(1000px 420px at 80% -200px, rgba(201,162,39,.15), transparent)}
    .hero h1{font-size:clamp(26px,5vw,40px);line-height:1.1;margin:0 0 8px}
    .hero p{color:var(--muted);margin:0 0 18px}
    .badges{display:flex;gap:10px;flex-wrap:wrap}
    .badge{padding:8px 12px;border:1px solid var(--border);border-radius:999px;background:#fff}

    /* Faja de oferta */
    .deal{background:#0f172a;color:#fff}
    .deal .wrap{display:flex;gap:14px;align-items:center;justify-content:space-between;padding:12px 0}
    .deal strong{font-size:clamp(15px,3vw,20px)}
    .deal .btn{padding:8px 14px}

    .section{padding:40px 0}
    .section h2{font-size:clamp(22px,4vw,30px);margin:0 0 12px}
    .grid{display:grid;grid-template-columns:repeat(12,1fr);gap:16px}

    .card{grid-column:span 12;background:#fff;border:1px solid var(--border);border-radius:16px;overflow:hidden;box-shadow:0 8px 22px rgba(0,0,0,.04);display:flex;flex-direction:column}
    @media(min-width:700px){.card{grid-column:span 6}}
    @media(min-width:1000px){.card{grid-column:span 4}}
    .card .p{padding:14px}
    .card h3{margin:0 0 6px;font-size:18px}
    .meta{color:var(--muted);font-size:14px}
    .row{display:flex;align-items:center;justify-content:space-between;gap:8px;margin-top:10px}

    /* Thumbs de cada desarrollo */
    .thumb{width:100%;height:160px;object-fit:cover;background:#e2e8f0}

    footer{padding:28px 0;color:var(--muted)}

    /* Formulario contacto */
    form label{display:block;margin:0 0 6px;font-weight:700}
    form input,form textarea, form select{width:100%;padding:12px 14px;border:1px solid var(--border);border-radius:10px;font-size:16px;background:#fff}
    form input:focus,form textarea:focus, form select:focus{border-color:var(--gold);box-shadow:0 0 0 3px rgba(201,162,39,.15);outline:0}
    .grid.cols-3{display:grid;gap:12px}
    @media(min-width:900px){.grid.cols-3{grid-template-columns:1fr 1fr 1fr}}

    .wa-float{position:fixed;right:18px;bottom:18px;background:#25D366;color:#fff;padding:14px 16px;border-radius:999px;box-shadow:0 8px 22px rgba(0,0,0,.18);font-weight:800;z-index:60}

    /* Mapa de referencia (imagen) */
    .map-wrap{border:1px solid var(--border);border-radius:14px;overflow:hidden}
  </style>
</head>
<body>
  <header>
    <div class="container wrap">
      <div style="display:flex;align-items:center;gap:10px">
        <img class="logo-img" src="assets/logo-trhoncal-flat.png" alt="Trhoncal Homes" loading="lazy" onerror="this.replaceWith(Object.assign(document.createElement('strong'),{textContent:'Trhoncal Homes'}))">
      </div>
      <nav>
        <a href="/">Inicio</a>
        <a href="#catalogo">Desarrollos</a>
        <a href="#contacto">Contacto</a>
      </nav>
    </div>
  </header>

  <main>
    <section class="hero">
      <div class="container">
        <span class="badge" style="border-color:var(--gold);color:var(--gold);background:#fff6d7">Guadalajara y alrededores</span>
        <h1>Catálogo de desarrollos</h1>
        <p>Te acompañamos con <strong>Transparencia, Honestidad y Calidad</strong>, de principio a fin.</p>
        <div class="badges">
          <div class="badge">Créditos: Infonavit · Fovissste · Bancario</div>
          <div class="badge">Atención por WhatsApp</div>
          <div class="badge">Preventa y entrega inmediata</div>
        </div>
      </div>
    </section>

    <!-- Faja “sin enganche” -->
    <section class="deal">
      <div class="container wrap">
        <strong>Últimas unidades <span style="color:#C9A227">sin enganche</span>.</strong>
        <a class="btn primary" href="#contacto">Pide información</a>
      </div>
    </section>

    <!-- Catálogo -->
    <section id="catalogo" class="section">
      <div class="container">
        <h2>Explora por desarrollo</h2>
        <div class="grid">
          <!-- Fiori -->
          <article class="card">
            <img class="thumb" src="assets/fiori.jpg" alt="Privada Fiori" loading="lazy">
            <div class="p">
              <h3>Privada Fiori</h3>
              <div class="meta">Desde <strong>$1,272,000</strong> · Dalia · Violeta · Girasol</div>
              <div class="row">
                <a class="btn primary" href="https://fiori.3dhomes.com.mx/" target="_blank" rel="noopener">Ver página</a>
                <a class="btn ghost" href="https://wa.me/523337241151?text=Hola%20Trhoncal%20Homes%2C%20me%20interesa%20Privada%20Fiori" target="_blank" rel="noopener">WhatsApp</a>
              </div>
            </div>
          </article>

          <!-- Vitad -->
          <article class="card">
            <img class="thumb" src="assets/vitad.jpg" alt="Vitad" loading="lazy">
            <div class="p">
              <h3>Vitad</h3>
              <div class="meta">Desde <strong>$2,385,000</strong> · Apolo · Ares · Atena</div>
              <div class="row">
                <a class="btn primary" href="https://vitad.3dhomes.com.mx/" target="_blank" rel="noopener">Ver página</a>
                <a class="btn ghost" href="https://wa.me/523337241151?text=Hola%20Trhoncal%20Homes%2C%20me%20interesa%20Vitad" target="_blank" rel="noopener">WhatsApp</a>
              </div>
            </div>
          </article>

          <!-- Alporta -->
          <article class="card">
            <img class="thumb" src="assets/alporta.jpg" alt="Alporta" loading="lazy">
            <div class="p">
              <h3>Alporta</h3>
              <div class="meta">Desde <strong>$2,309,000</strong> · Atria · Vela · Lira</div>
              <div class="row">
                <a class="btn primary" href="https://alporta.3dhomes.com.mx/" target="_blank" rel="noopener">Ver página</a>
                <a class="btn ghost" href="https://wa.me/523337241151?text=Hola%20Trhoncal%20Homes%2C%20me%20interesa%20Alporta" target="_blank" rel="noopener">WhatsApp</a>
              </div>
            </div>
          </article>

          <!-- Zenith Norte -->
          <article class="card">
            <img class="thumb" src="assets/zenith-norte.jpg" alt="Zenith Norte" loading="lazy">
            <div class="p">
              <h3>Zenith Norte</h3>
              <div class="meta">Desde <strong>$3,724,000</strong> · Toledo · Samos · León · Toledo RF</div>
              <div class="row">
                <a class="btn primary" href="https://zenith-norte.3dhomes.com.mx/" target="_blank" rel="noopener">Ver página</a>
                <a class="btn ghost" href="https://wa.me/523337241151?text=Hola%20Trhoncal%20Homes%2C%20me%20interesa%20Zenith%20Norte" target="_blank" rel="noopener">WhatsApp</a>
              </div>
            </div>
          </article>

          <!-- Creta -->
          <article class="card">
            <img class="thumb" src="assets/creta.jpg" alt="Creta" loading="lazy">
            <div class="p">
              <h3>Creta</h3>
              <div class="meta">Desde <strong>$3,655,000</strong> · Samos</div>
              <div class="row">
                <a class="btn primary" href="https://creta.3dhomes.com.mx/" target="_blank" rel="noopener">Ver página</a>
                <a class="btn ghost" href="https://wa.me/523337241151?text=Hola%20Trhoncal%20Homes%2C%20me%20interesa%20Creta" target="_blank" rel="noopener">WhatsApp</a>
              </div>
            </div>
          </article>

          <!-- Tossa -->
          <article class="card">
            <img class="thumb" src="assets/tossa.jpg" alt="Tossa" loading="lazy">
            <div class="p">
              <h3>Tossa</h3>
              <div class="meta">Desde <strong>$3,900,000</strong> · Goya · Picasso · Dalí · Miró · Dalí RG · Miró RG</div>
              <div class="row">
                <a class="btn primary" href="https://tossa.3dhomes.com.mx/" target="_blank" rel="noopener">Ver página</a>
                <a class="btn ghost" href="https://wa.me/523337241151?text=Hola%20Trhoncal%20Homes%2C%20me%20interesa%20Tossa" target="_blank" rel="noopener">WhatsApp</a>
              </div>
            </div>
          </article>

          <!-- Vicenza -->
          <article class="card">
            <img class="thumb" src="assets/vicenza.jpg" alt="Vicenza" loading="lazy">
            <div class="p">
              <h3>Vicenza</h3>
              <div class="meta">Desde <strong>$3,200,000</strong> · Padua · Capri</div>
              <div class="row">
                <a class="btn primary" href="https://vicenza.3dhomes.com.mx/" target="_blank" rel="noopener">Ver página</a>
                <a class="btn ghost" href="https://wa.me/523337241151?text=Hola%20Trhoncal%20Homes%2C%20me%20interesa%20Vicenza" target="_blank" rel="noopener">WhatsApp</a>
              </div>
            </div>
          </article>

          <!-- Lavantia -->
          <article class="card">
            <img class="thumb" src="assets/lavantia.jpg" alt="Lavantia" loading="lazy">
            <div class="p">
              <h3>Lavantia</h3>
              <div class="meta">Desde <strong>$2,790,000</strong> · Luna</div>
              <div class="row">
                <a class="btn primary" href="https://lavantia.3dhomes.com.mx/" target="_blank" rel="noopener">Ver página</a>
                <a class="btn ghost" href="https://wa.me/523337241151?text=Hola%20Trhoncal%20Homes%2C%20me%20interesa%20Lavantia" target="_blank" rel="noopener">WhatsApp</a>
              </div>
            </div>
          </article>

          <!-- Mirador del Bosque -->
          <article class="card">
            <img class="thumb" src="assets/mirador.jpg" alt="Mirador del Bosque" loading="lazy">
            <div class="p">
              <h3>Mirador del Bosque</h3>
              <div class="meta">Desde <strong>$740,000</strong> · Nardo · Oliva</div>
              <div class="row">
                <a class="btn primary" href="https://mirador.3dhomes.com.mx/" target="_blank" rel="noopener">Ver página</a>
                <a class="btn ghost" href="https://wa.me/523337241151?text=Hola%20Trhoncal%20Homes%2C%20me%20interesa%20Mirador%20del%20Bosque" target="_blank" rel="noopener">WhatsApp</a>
              </div>
            </div>
          </article>

          <!-- Vistas del Pedregal -->
          <article class="card">
            <img class="thumb" src="assets/vistas.jpg" alt="Vistas del Pedregal" loading="lazy">
            <div class="p">
              <h3>Vistas del Pedregal</h3>
              <div class="meta">Desde <strong>$1,080,000</strong> · Unifamiliar 2 rec · Unifamiliar 3 rec</div>
              <div class="row">
                <a class="btn primary" href="https://vistas.3dhomes.com.mx/" target="_blank" rel="noopener">Ver página</a>
                <a class="btn ghost" href="https://wa.me/523337241151?text=Hola%20Trhoncal%20Homes%2C%20me%20interesa%20Vistas%20del%20Pedregal" target="_blank" rel="noopener">WhatsApp</a>
              </div>
            </div>
          </article>

          <!-- Solum -->
          <article class="card">
            <img class="thumb" src="assets/solum.jpg" alt="Solum" loading="lazy">
            <div class="p">
              <h3>Solum</h3>
              <div class="meta"><strong>Consultar</strong> · 2–3 recámaras · Amenidades</div>
              <div class="row">
                <a class="btn primary" href="https://solum.3dhomes.com.mx/" target="_blank" rel="noopener">Ver página</a>
                <a class="btn ghost" href="https://wa.me/523337241151?text=Hola%20Trhoncal%20Homes%2C%20me%20interesa%20Solum" target="_blank" rel="noopener">WhatsApp</a>
              </div>
            </div>
          </article>
        </div>

        <!-- Mapa de referencia (no real): pon /assets/mapa-catalogo.jpg -->
        <div class="map-wrap" style="margin-top:24px">
          <img src="assets/mapa-catalogo.jpg" alt="Mapa de referencia aproximado de los desarrollos" loading="lazy">
        </div>
        <p class="meta" style="margin-top:6px">Ubicaciones de referencia (no reales). Solicita la dirección exacta con tu asesor.</p>

      </div>
    </section>

    <!-- Contacto (POST → Apps Script → WhatsApp) -->
    <section id="contacto" class="section" style="border-top:1px solid var(--border)">
      <div class="container">
        <h2>Pide información por WhatsApp</h2>
        <p class="meta">Déjanos tus datos y un asesor te escribe.</p>

        <form id="lead-form" autocomplete="on">
          <input type="hidden" id="desarrollo" name="desarrollo" value="Catálogo – Contacto General"/>

          <div class="grid cols-3">
            <div><label for="nombre">Nombre(s)</label><input id="nombre" name="nombre" required placeholder="Tu nombre" autocomplete="given-name"/></div>
            <div><label for="paterno">Apellido paterno</label><input id="paterno" name="paterno" required placeholder="Paterno" autocomplete="additional-name"/></div>
            <div><label for="materno">Apellido materno</label><input id="materno" name="materno" required placeholder="Materno" autocomplete="family-name"/></div>
          </div>

          <div class="grid cols-3" style="margin-top:10px">
            <div><label for="whatsapp">WhatsApp</label><input id="whatsapp" name="whatsapp" required type="tel" inputmode="tel" placeholder="Ej. 33 3724 1151" autocomplete="tel"/></div>
            <div><label for="correo">Correo electrónico</label><input id="correo" name="correo" required type="email" placeholder="tu@correo.com" autocomplete="email"/></div>

            <!-- AQUÍ EL CAMBIO: textarea -> select (mismo name="mensaje") -->
            <div>
              <label for="mensaje">Desarrollo de interés</label>
              <select id="mensaje" name="mensaje">
                <option value="" selected disabled>Selecciona un desarrollo…</option>
                <option>Privada Fiori</option>
                <option>Vitad</option>
                <option>Alporta</option>
                <option>Zenith Norte</option>
                <option>Creta</option>
                <option>Tossa</option>
                <option>Vicenza</option>
                <option>Lavantia</option>
                <option>Mirador del Bosque</option>
                <option>Vistas del Pedregal</option>
                <option>Solum</option>
              </select>
            </div>
          </div>

          <div class="row" style="margin-top:12px">
            <a id="send-wa" class="btn whatsapp" href="#">Solicitar información por WhatsApp</a>
            <a class="btn ghost ask-fill" href="#">Solicitar ficha</a>
          </div>

          <p id="form-msg" style="margin:10px 0 0;display:none"></p>
        </form>
      </div>
    </section>
  </main>

  <footer>
    <div class="container">
      <div style="display:flex;align-items:center;gap:10px;flex-wrap:wrap;justify-content:space-between">
        <small>© <span id="year"></span> Trhoncal Homes. TR + HON + CAL.</small>
        <small>Privacidad · Términos · Aviso legal</small>
      </div>
    </div>
  </footer>

  <a class="wa-float" href="https://wa.me/523337241151?text=Hola%20Trhoncal%20Homes%2C%20quiero%20informaci%C3%B3n" target="_blank" rel="noopener">WhatsApp</a>

  <!-- Toast -->
  <div id="toast" style="position:fixed;left:50%;bottom:18px;transform:translateX(-50%);background:#0f172a;color:#fff;padding:10px 14px;border-radius:10px;box-shadow:0 8px 22px rgba(0,0,0,.25);display:none;z-index:70"></div>

  <script>
    /* ====== CONFIG: MISMA hoja y número WA que tus landings ====== */
    const WA_DEST  = "523337241151";
    const ENDPOINT = "https://script.google.com/macros/s/AKfycbwPuVXGIwLcF-KOPDuOch06KM72fEU0MpZE_xU7NWtFhZb5DqHl4ueeVH7K0bsWtczQtQ/exec";

    document.getElementById('year').textContent = new Date().getFullYear();

    /* ====== Autorrelleno: query params + localStorage (con alias) ====== */
    (function prefill(){
      const form   = document.getElementById('lead-form');
      const fields = ['nombre','paterno','materno','whatsapp','correo','mensaje'];
      const qp = new URLSearchParams(location.search);

      fields.forEach(f=>{
        const el = form.elements[f];
        if(!el) return;
        const aliases = { correo:['email'], whatsapp:['phone','telefono'] };

        let qv = qp.get(f);
        if(!qv && aliases[f]) {
          for(const alt of aliases[f]) { qv = qp.get(alt); if(qv) break; }
        }
        if(qv) el.value = qv;

        if(!el.value){
          const saved = localStorage.getItem('lead_'+f);
          if(saved) el.value = saved;
        }

        // Guarda cambios (input y change para selects)
        el.addEventListener('input',()=>localStorage.setItem('lead_'+f, el.value));
        el.addEventListener('change',()=>localStorage.setItem('lead_'+f, el.value));

        // Si el valor de 'mensaje' no está en las opciones del <select>, lo añadimos y seleccionamos
        if(f==='mensaje' && el.tagName==='SELECT' && el.value){
          const exists = Array.from(el.options).some(o=>o.value===el.value);
          if(!exists){
            const opt = new Option(el.value, el.value, true, true);
            el.add(opt);
          }
        }
      });
    })();

    /* ====== Helpers ====== */
    function onlyDigits(s){ return (s||"").replace(/\D+/g,''); }
    function fullName(d){ return [d.nombre,d.paterno,d.materno].filter(Boolean).join(' ').trim(); }
    function toast(msg){
      const t = document.getElementById('toast'); t.textContent = msg;
      t.style.display='block'; setTimeout(()=>t.style.display='none', 2600);
    }
    function formDataObject(form){ return Object.fromEntries(new FormData(form).entries()); }
    function utms(){
      const p = new URLSearchParams(location.search);
      return {
        utm_source:  p.get('utm_source')  || '',
        utm_medium:  p.get('utm_medium')  || '',
        utm_campaign:p.get('utm_campaign')|| '',
        utm_term:    p.get('utm_term')    || '',
        utm_content: p.get('utm_content') || ''
      };
    }

    /* ====== WhatsApp (sin cambios en formato) ====== */
    function buildMessage(d){
      const telUser = onlyDigits(d.whatsapp)||d.whatsapp;
      return `Hola Trhoncal Homes, me interesa ${d.desarrollo||'el desarrollo'}. ` +
             `Soy ${fullName(d)}. ` +
             `Mi correo es ${d.correo}. ` +
             `Mi WhatsApp es ${telUser}.` +
             (d.mensaje ? ` ${d.mensaje}` : '');
    }
    function goWhatsApp(d){
      const texto = buildMessage(d);
      location.href = `https://wa.me/${WA_DEST}?text=${encodeURIComponent(texto)}`;
    }

    /* ====== Envío principal (POST → Apps Script → WhatsApp + dataLayer) ====== */
    async function submitLead(){
      const form = document.getElementById('lead-form');
      if(!form.reportValidity()){
        toast('Completa los campos obligatorios.');
        form.scrollIntoView({behavior:'smooth', block:'start'});
        return;
      }
      const d = {...formDataObject(form), ...utms()};
      try{
        const res = await fetch(ENDPOINT, {
          method:'POST',
          headers:{'Content-Type':'application/x-www-form-urlencoded;charset=UTF-8'},
          body: new URLSearchParams(d).toString()
        });
        const j = await res.json().catch(()=>({ok:false}));
        if(!j.ok){ console.warn('Script respondió:', j); }

        // Métricas
        window.dataLayer = window.dataLayer || [];
        window.dataLayer.push({event:'lead_submit', desarrollo:d.desarrollo});

        goWhatsApp(d);
      }catch(err){
        console.error(err);
        toast('Error al enviar. Intenta de nuevo.');
      }
    }

    document.getElementById('send-wa').addEventListener('click', e=>{ e.preventDefault(); submitLead(); });

    // Aviso “Solicitar ficha” (sin romper nada)
    document.querySelectorAll('.ask-fill').forEach(a=>{
      a.addEventListener('click', e=>{
        e.preventDefault();
        toast('Déjanos tus datos y correo para enviarte la ficha.');
        document.getElementById('lead-form').scrollIntoView({behavior:'smooth', block:'start'});
      });
    });

    // Medición de WhatsApp (botón flotante y links)
    document.querySelectorAll('.wa-float,[href^="https://wa.me/"]').forEach(a=>{
      a.addEventListener('click', ()=>{ 
        window.dataLayer = window.dataLayer || [];
        window.dataLayer.push({event:'wa_click', location:'catalogo'});
      });
    });
  </script>
</body>
</html>

