<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Trhoncal Homes | Mirador del Bosque ‚Äì Zapopan</title>
  <meta name="description" content="Mirador del Bosque en Zapopan. Prototipos Nardo y Oliva desde $740,000. Acompa√±amiento total en tu cr√©dito." />
  <link rel="canonical" href="https://mirador.3dhomes.com.mx/"/>
  <link rel="preload" as="image" imagesrcset="assets/hero-1600.webp 1x, assets/hero-3200.webp 2x" imagesizes="100vw" href="assets/hero-1600.jpg">
  <style>
    :root{--gold:#C9A227;--dark:#0f172a;--muted:#475569;--bg:#fff;--light:#f8fafc;--logo-h:105px;--header-pad:12px;--green:#25D366}
    *{box-sizing:border-box} body{margin:0;font-family:ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,Noto Sans,sans-serif;color:var(--dark);background:#fff}
    a{color:inherit;text-decoration:none} img{max-width:100%;display:block}
    .container{max-width:1100px;margin:0 auto;padding:0 20px}
    .btn{display:inline-block;padding:12px 20px;border-radius:999px;border:1px solid var(--gold);font-weight:600;text-align:center}
    .btn.primary{background:var(--gold);color:#fff;border-color:var(--gold)}
    .btn.ghost{background:transparent;color:var(--gold)}
    .btn.whatsapp{background:var(--green)!important;border-color:var(--green)!important;color:#fff!important}

    /* Header */
    header{position:sticky;top:0;background:rgba(255,255,255,.95);backdrop-filter:saturate(180%) blur(8px);border-bottom:1px solid #e2e8f0;z-index:50;padding-bottom:6px}
    header .wrap{display:flex;align-items:center;justify-content:space-between;height:auto;min-height:calc(var(--logo-h) + var(--header-pad)*2);padding:var(--header-pad) 0;gap:16px}
    nav a{margin-left:18px;color:var(--muted)}
    .logo-img{height:var(--logo-h);display:block}
    @media (max-width:768px){ header nav{display:none} header .wrap{justify-content:center} .logo{margin:0 auto} }

    .breadcrumb{font-size:14px;color:var(--muted);padding:10px 0}
    .hero{position:relative;min-height:420px;display:grid;align-items:end;padding:28px 0;color:#fff}
    @media(max-width:640px){.hero{min-height:340px}}
    .hero::before{content:"";position:absolute;inset:0;z-index:-1;background:
      linear-gradient(180deg,rgba(0,0,0,.35),rgba(0,0,0,.55)),
      image-set(url('assets/hero-1600.webp') type('image/webp') 1x,
                url('assets/hero-3200.webp') type('image/webp') 2x,
                url('assets/hero-1600.jpg')  type('image/jpeg') 1x,
                url('assets/hero-3200.jpg')  type('image/jpeg') 2x);
      background-size:cover;background-position:center;background-repeat:no-repeat;background-color:#cbd5e1}
    .hero>.container{position:relative}
    .hero h1{font-size:clamp(28px,5vw,46px);line-height:1.1;margin:0 0 10px}
    .hero p{margin:0 0 16px;color:#e5e7eb}
    .badges{display:flex;flex-wrap:wrap;gap:10px;margin:10px 0 22px}
    .badge{padding:8px 12px;border:1px solid #e2e8f0;border-radius:999px;background:rgba(255,255,255,.9);color:#111}

    .section{padding:42px 0}
    .section h2{font-size:clamp(22px,4vw,32px);margin:0 0 14px}
    .grid{display:grid;gap:16px}
    @media(min-width:900px){.grid.cols-2{grid-template-columns:1fr 1fr}}

    .cards{display:grid;grid-template-columns:repeat(12,1fr);gap:18px}
    .card{grid-column:span 12;background:#fff;border:1px solid #e2e8f0;border-radius:16px;overflow:hidden;box-shadow:0 8px 22px rgba(0,0,0,.04)}
    .card img{width:100%;height:200px;object-fit:cover;background:#e2e8f0}
    .card .p{padding:14px}
    .card h3{margin:0 0 6px;font-size:18px}
    .meta{color:var(--muted);font-size:14px;margin-bottom:10px}
    @media(min-width:700px){.card{grid-column:span 6}} @media(min-width:1000px){.card{grid-column:span 4}}

    .icon-list{display:grid;grid-template-columns:repeat(2,1fr);gap:10px}
    @media(min-width:700px){.icon-list{grid-template-columns:repeat(3,1fr)}}
    .icon-item{display:flex;align-items:center;gap:10px;border:1px solid #e2e8f0;border-radius:12px;padding:10px;background:#fff}

    footer{padding:32px 0;color:var(--muted)}

    /* Sticky bar */
    .sticky-cta{position:sticky;bottom:0;background:#fff;border-top:1px solid #e2e8f0;padding:10px;display:flex;gap:10px;justify-content:center;flex-wrap:wrap}

    /* Form alineado */
    form label{display:block;margin:0 0 6px;font-weight:600}
    form input,form textarea{
      width:100%;display:block;padding:12px 14px;border:1px solid #e2e8f0;border-radius:10px;font-size:16px;outline:0;background:#fff
    }
    form input:focus,form textarea:focus{border-color:var(--gold);box-shadow:0 0 0 3px rgba(201,162,39,.15)}
    .grid.cols-3{grid-template-columns:1fr}
    @media(min-width:900px){.grid.cols-3{grid-template-columns:repeat(3,1fr)}}
    .grid.cols-2>div,.grid.cols-3>div{display:flex;flex-direction:column;gap:6px}
    form textarea{min-width:0}

    /* Avisos */
    #toast{position:fixed;left:50%;bottom:18px;transform:translateX(-50%);background:#111;color:#fff;padding:12px 14px;border-radius:12px;box-shadow:0 8px 22px rgba(0,0,0,.25);font-size:14px;opacity:0;pointer-events:none;transition:opacity .25s ease;z-index:70}
    #toast.show{opacity:1}

    /* Ocultar sin borrar */
    .is-hidden{display:none!important}
    .muted{color:#64748b}
  </style>
</head>
<body>
  <header>
    <div class="container wrap">
      <div class="logo"><img class="logo-img" src="assets/logo-trhoncal-flat.png" alt="Trhoncal Homes" /></div>
      <nav><a href="/">Inicio</a><a href="/catalogo-devs.html">Desarrollos</a><a href="#contacto">Contacto</a></nav>
    </div>
  </header>

  <main>
    <div class="container breadcrumb">Inicio ‚ñ∏ Desarrollos ‚ñ∏ <strong>Mirador del Bosque</strong></div>

    <section class="hero">
      <div class="container">
        <h1>Mirador del Bosque</h1>
        <p>Vive al norte de Zapopan con conexi√≥n a servicios y naturaleza.</p>
        <div class="badges">
          <div class="badge">Ubicaci√≥n: Zapopan</div>
          <div class="badge">Desde <strong>$699,000</strong></div>
          <div class="badge">2 rec√°maras</div>
          <div class="badge">Amenidades destacadas</div>
        </div>
        <div class="cta-bar">
          <a class="btn primary" href="#contacto">Solicitar informaci√≥n</a>
          <a id="cta-ficha-top" class="btn ghost" href="#contacto">Solicitar ficha</a>
        </div>
      </div>
    </section>

    <section class="section">
      <div class="container grid cols-2">
        <div>
          <h2>Resumen</h2>
          <p class="meta">Prototipos <strong>Nardo</strong> y <strong>Oliva</strong>. Agenda visita para conocer disponibilidad y precios vigentes.</p>
        </div>
        <div>
          <h2>Amenidades</h2>
          <div class="icon-list">
            <div class="icon-item">üå≥ √Åreas verdes</div>
            <div class="icon-item">üõ°Ô∏è Acceso controlado</div>
            <div class="icon-item">üë®‚Äçüë©‚Äçüëß‚Äçüë¶ Juegos infantiles</div>
            <div class="icon-item">üî• Asadores</div>
            <div class="icon-item">üèä Alberca (algunos desarrollos)</div>
            <div class="icon-item">üèãÔ∏è Gimnasio</div>
          </div>
          <p class="meta" style="margin-top:8px">*Puede variar por etapa y disponibilidad.</p>
        </div>
      </div>
    </section>

    <section id="modelos" class="section">
      <div class="container">
        <h2>Prototipos</h2>
        <div class="cards">
          <article class="card">
            <img src="assets/nardo.jpg" alt="Nardo" />
            <div class="p">
              <h3>Nardo</h3>
              <div class="meta">2 rec√°maras</div>
              <div style="display:flex;align-items:center;justify-content:space-between">
                <span>Desde <strong>$699,000</strong></span>
                <a class="btn ghost cta-ficha" href="#contacto" data-model="Nardo">Solicitar ficha</a>
              </div>
            </div>
          </article>
          <article class="card">
            <img src="assets/oliva.jpg" alt="Oliva" />
            <div class="p">
              <h3>Oliva</h3>
              <div class="meta">2 rec√°maras</div>
              <div style="display:flex;align-items:center;justify-content:space-between">
                <span>Desde <strong>$754,000</strong></span>
                <a class="btn ghost cta-ficha" href="#contacto" data-model="Oliva">Solicitar ficha</a>
              </div>
            </div>
          </article>
        </div>
      </div>
    </section>

    <section id="contacto" class="section" style="border-top:1px solid #e2e8f0">
      <div class="container">
        <h2>Solicita informaci√≥n de Mirador del Bosque</h2>
        <p class="meta">D√©janos tus datos y un asesor te escribe por WhatsApp.</p>

        <form id="lead-form" autocomplete="on">
          <input type="hidden" id="desarrollo" name="desarrollo" value="Mirador del Bosque" />

          <div class="grid cols-3" style="margin-bottom:12px">
            <div>
              <label for="nombre">Nombre(s)</label>
              <input id="nombre" name="nombre" required placeholder="Tu nombre" autocomplete="given-name" autocapitalize="words" />
            </div>
            <div>
              <label for="apaterno">Apellido paterno</label>
              <input id="apaterno" name="apaterno" required placeholder="Tu primer apellido" autocomplete="additional-name" autocapitalize="words" />
            </div>
            <div>
              <label for="amaterno">Apellido materno</label>
              <input id="amaterno" name="amaterno" required placeholder="Tu segundo apellido" autocomplete="family-name" autocapitalize="words" />
            </div>
          </div>

          <div class="grid cols-2" style="margin-bottom:12px">
            <div>
              <label for="whatsapp">WhatsApp</label>
              <input id="whatsapp" name="whatsapp" required type="tel" inputmode="tel" autocomplete="tel" placeholder="Ej. 33 2933 5952" />
            </div>
            <div>
              <label for="correo">Correo electr√≥nico</label>
              <input id="correo" name="correo" required type="email" autocomplete="email" spellcheck="false" placeholder="tu@correo.com" />
            </div>
          </div>

          <div>
            <label for="mensaje">Mensaje</label>
            <textarea id="mensaje" name="mensaje" rows="4" placeholder="Cu√©ntanos qu√© buscas..."></textarea>
          </div>

          <p class="muted" style="margin:10px 0 0">Usamos tus datos solo para contactarte respecto a este desarrollo.</p>

          <div class="cta-bar" style="display:flex;gap:10px;flex-wrap:wrap;margin-top:10px">
            <a id="send-wa" class="btn whatsapp" href="#">Solicitar informaci√≥n por WhatsApp</a>
            <a id="cta-directo" class="btn ghost" href="#contacto">Solicitar ficha (v√≠a WhatsApp)</a>
          </div>
        </form>
      </div>
    </section>

    <div class="sticky-cta">
      <a id="sticky-send" class="btn whatsapp" href="#">Solicitar informaci√≥n por WhatsApp</a>
      <a id="sticky-ficha" class="btn ghost" href="#contacto">Solicitar ficha</a>
    </div>
  </main>

  <footer>
    <div class="container">
      <div style="display:flex;align-items:center;gap:10px;flex-wrap:wrap;justify-content:space-between">
        <small>¬© <span id="year"></span> Trhoncal Homes. TR + HON + CAL.</small>
        <small>Privacidad ¬∑ T√©rminos ¬∑ Aviso legal</small>
      </div>
    </div>
  </footer>

  <!-- Bot√≥n flotante: OCULTO, no borrado -->
  <a class="wa-float is-hidden" target="_blank" rel="noopener"
     href="https://wa.me/523329335952?text=Hola%20Trhoncal%20Homes%2C%20me%20interesa%20Mirador%20del%20Bosque">WhatsApp</a>

  <div id="toast" role="status" aria-live="polite"></div>

  <script>
  /* ====== CONFIG ====== */
  const WA_DEST   = "523329335952"; // +52 332 933 5952
  const ENDPOINT  = "https://script.google.com/macros/s/AKfycbziR6D7uIiYA6l-SLFFGu3iGBouQSr_IOK8XbXUeb1uhOM1-SZCo8QS70vvxPVAOcb6mA/exec";

  /* ====== UTIL ====== */
  const $ = (sel,ctx=document)=>ctx.querySelector(sel);
  const $$= (sel,ctx=document)=>Array.from(ctx.querySelectorAll(sel));
  const toast = (msg, ms=3000)=>{
    const el = $("#toast"); if(!el) return alert(msg);
    el.textContent = msg; el.classList.add('show'); setTimeout(()=>el.classList.remove('show'), ms);
  };
  const onlyDigits = s => (s||"").replace(/\D+/g,'');
  const fullName = d => [d.nombre,d.apaterno,d.amaterno].map(x=>x||'').join(' ').replace(/\s+/g,' ').trim();

  /* ====== Init ====== */
  document.getElementById('year').textContent = new Date().getFullYear();
  (function syncDesarrollo(){
    const h1 = document.querySelector('h1');
    const input = document.getElementById('desarrollo');
    if(h1 && input){ input.value = h1.textContent.trim(); }
  })();

  /* ====== Prefill (URL + localStorage) ====== */
  (function prefill(){
    const f = document.getElementById('lead-form');
    const fields = ['nombre','apaterno','amaterno','whatsapp','correo','mensaje'];
    const qp = new URLSearchParams(location.search);
    const pickQP = key=>{
      if (qp.has(key)) return qp.get(key);
      if (key==='whatsapp') return qp.get('telefono') || qp.get('phone') || '';
      if (key==='correo')   return qp.get('email') || '';
      return '';
    };
    fields.forEach(k=>{
      const el = f.elements[k]; if(!el) return;
      const fromQS = pickQP(k); if(fromQS) el.value = fromQS;
      if(!el.value){
        const saved = localStorage.getItem('lead_'+k);
        if(saved) el.value = saved;
      }
      el.addEventListener('input', ()=>localStorage.setItem('lead_'+k, el.value));
    });
  })();

  /* ====== Build WhatsApp text ====== */
  function buildMessage(d){
    const tel = onlyDigits(d.whatsapp)||d.whatsapp;
    return `Hola Trhoncal Homes, me interesa ${d.desarrollo||'el desarrollo'}. ` +
           `Soy ${fullName(d)}. Mi correo es ${d.correo}. ` +
           `Mi WhatsApp es ${tel}.` + (d.mensaje ? ` ${d.mensaje}` : '');
  }

  /* ====== Save to Sheet ====== */
  function saveLead(d){
    try{
      const body = JSON.stringify({
        nombre: fullName(d),
        email: d.correo,
        whatsapp: onlyDigits(d.whatsapp),
        zona: d.desarrollo || 'Mirador del Bosque',
        mensaje: d.mensaje || ''
      });
      if (navigator.sendBeacon){
        const blob = new Blob([body], {type:'application/json'});
        navigator.sendBeacon(ENDPOINT, blob);
      }else{
        fetch(ENDPOINT, {method:'POST', headers:{'Content-Type':'application/json'}, body});
      }
      // Fallback GET (pixel)
      const u = new URL(ENDPOINT);
      u.searchParams.set('collect','1');
      u.searchParams.set('nombre', fullName(d));
      u.searchParams.set('email', d.correo);
      u.searchParams.set('whatsapp', onlyDigits(d.whatsapp));
      u.searchParams.set('zona', d.desarrollo || 'Mirador del Bosque');
      u.searchParams.set('mensaje', d.mensaje || '');
      new Image().src = u.toString();
    }catch(e){/* noop */}
  }

  /* ====== Validaci√≥n ====== */
  function validEmail(v){ return /@/.test(v||''); }
  function validateForm(){
    const f = document.getElementById('lead-form');
    const d = Object.fromEntries(new FormData(f).entries());
    if(!(d.nombre||'').trim())   { toast('Escribe tu nombre.'); return null; }
    if(!(d.apaterno||'').trim()) { toast('Escribe tu apellido paterno.'); return null; }
    if(!(d.amaterno||'').trim()) { toast('Escribe tu apellido materno.'); return null; }
    if(!onlyDigits(d.whatsapp) || onlyDigits(d.whatsapp).length < 10){ toast('Escribe un WhatsApp v√°lido.'); return null; }
    if(!validEmail(d.correo)){ toast('Escribe un correo v√°lido (con @).'); return null; }
    return d;
  }

  /* ====== Env√≠o a WhatsApp (botones verdes) ====== */
  function goWhatsApp(d){
    saveLead(d);
    const texto = buildMessage(d);
    const url = `https://wa.me/${WA_DEST}?text=${encodeURIComponent(texto)}`;
    window.location.href = url; // navegaci√≥n directa (evita bloqueos de pop-up)
  }

  function handleSendClick(e){
    e.preventDefault();
    const d = validateForm(); if(!d){ $('#lead-form').scrollIntoView({behavior:'smooth'}); return; }
    goWhatsApp(d);
  }

  document.getElementById('send-wa').addEventListener('click', handleSendClick);
  document.getElementById('sticky-send').addEventListener('click', handleSendClick);

  /* ====== CTAs que piden llenar datos y hacen scroll ====== */
  function nudgeToForm(e){
    e.preventDefault();
    toast('Deja tus datos y te enviamos la ficha por WhatsApp.');
    $('#lead-form').scrollIntoView({behavior:'smooth', block:'start'});
  }
  $('#cta-ficha-top').addEventListener('click', nudgeToForm);
  $('#cta-directo').addEventListener('click', nudgeToForm);
  $('#sticky-ficha').addEventListener('click', nudgeToForm);
  $$('.cta-ficha').forEach(a=>a.addEventListener('click', nudgeToForm));
  </script>
</body>
</html>
